# TDD

Test-driven Development

테스트 → 구현

테스트 코드 먼저 작성 후 테스트를 통과시키기 위해 개발 진행

### AS-IS

- 만들 기능에 어떤 클래스와 인터페이스를 도출할지 결정
- 어떤 메서드를 만들지 결정
- 어떻게 구현할지 결정
- 기능 구현 완료 후 기능 테스트
- 문제 발생시 디버깅
    - 코드가 많을 경우 디버깅 시간이 길어진다.
    - 클래스 파일 변경 시 톰캣서버 재시작하는 등.. 노가다

### TO-BE

- 테스트를 먼저 작성하고, 테스트를 통과시키기 위한 코드를 추가하는 과정을 반복하면서 점진적으로 기능을 완성해 나간다.
- 테스트 코드 작성시 고려할 사항
    - 메서드 이름
    - 파라미터는 몇개? 타입? 반환 값?
    - 정적메서드? 인스턴스 메서드?
    - 메서드 클래스 이름?

*AssertionFailedError

- Assertion
    - 개발자가 참이라고 가정하는 상태를 명시하기 위해서 사용된다. 에를 들어, 어떤 메소드가 파라미터로 양수만 입력받아야 한다고 확신한다면, Assertion을 사용하여 그 사실을(즉, 파라미터가 양수라는 것을) 명시할 수 있다.
    - 예외는 프로그램을 수행하는 도중에 발생하는 비정상적인 상태를 처리하기는 하지만 프로그램의 코드가 수행되는 도중에 예외가 발생한다. 반면에 Assertion은 프로그램이 올바르게 수행될 수 있는 조건을 명시해주어 그 조건을 만족시키는 경우에만 코드가 실행될 수 있도록 해 준다.
    - 따라서 Assertion은 프로그램이 올바르게 실행되도록 해주는 효과적인 도구가 될 수 있으며, 프로그램의 안정성을 높여줄 수 있다.
- 정적 메서드와 인스턴스 메서드
    - 인스턴스 변수 사용유무
    - 정적 메서드 : `Calculator.plus();`
    - 인스턴스 메서드 : `Calculator cal = new Calculator();`

### TDD 흐름

<aside>
💡 테스트 → 코딩 → 리팩토링

</aside>

레드🔴 - 그린🟢 - 리팩터 라고 부르기도 함.

1. 기능을 검증하는 테스트를 먼저 작성한다.
2. 테스트를 통과하지 못한다면🔴 테스트를 통과시키기 위한 코드를 추가한다.
3. 테스트 통과🟢 후 리팩토링한다.

이러한 과정을 반복하면서 점진적으로 기능을 완성해 나가는 것이다.

### 테스트가 개발을 주도

<aside>
💡 테스트 코드를 먼저 작성하면 테스트가 개발을 주도하게 된다.

</aside>

- 테스트를 작성하는 과정에서 구현을 생각하지 않고, 해당 기능이 올바르게 작동하는지 검증할 수 있는 테스트 코드를 만들었을 뿐이다.
- 테스트 코드를 만들면 다음 개발 범위가 정해진다.
- 테스트 코드가 추가되면서 검증하는 범위가 넓어질 수록 구현도 점점 완성되어간다.

### 지속적인 코드 정리

- 당장 리팩토링을 하지 않더라도 테스트 코드가 있으면 리팩토링을 보다 과감하게 진행할 수 있다.
- 기존에는 코드 수정을 꺼리게 되나, 해당 기능이 온전하게 동작한다는 것을 검증해 주는 테스트가 있다면 코드 수정에 대한 심리적 불안감을 줄여준다.
- 따라서 지속적으로 코드정리를 하게 되고, 코드 품질이 급격히 나빠지지 않게 막아준다.
- 향후 유지보수 비용을 낮출 수 있다.

### 빠른 피드백

- 코드 수정에 대한 피드백이 빠르다.
- 새로운 코드를 추가하거나 기존 코드를 수정하면 테스트를 돌려서 해당 코드가 올바른지 바로 확인 할 수 있다. → 잘못된 코드가 배포되는 것을 방지한다.